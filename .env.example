# ==========================================
# KONGLOAK ENVIRONMENT CONFIGURATION
# ==========================================
# Copy this file to .env and update with your values

# ==========================================
# KONG GATEWAY CONFIGURATION
# ==========================================
KONG_DOCKER_TAG=ghcr.io/tekinfopg/kong-gateway/kong:latest
KONG_USER=kong

# Database
KONG_DATABASE=postgres
KONG_PG_HOST=host.docker.internal
KONG_PG_PORT=5432
KONG_PG_DATABASE=kong
KONG_PG_USER=root
KONG_PG_PASSWORD=1234

# Ports
KONG_PROXY_LISTEN=8000
KONG_SSL_PROXY_LISTEN=8443
KONG_ADMIN_LISTEN=8001
KONG_SSL_ADMIN_LISTEN=8444
KONG_PREFIX=/var/run/kong

# SSL (optional)
# KONG_CERT_DIR=./certs
# CERT_FILE=./certs/cert.pem
# CERT_KEY_FILE=./certs/key.pem

# ==========================================
# KEYCLOAK CONFIGURATION
# ==========================================
KEYCLOAK_DOCKER_TAG=ghcr.io/tekinfopg/kong-gateway/keycloak:latest

# Admin
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Database
KC_DB_URL=keycloak-db
KC_POSTGRES_DB=keycloak
KC_POSTGRES_USER=keycloak
KC_POSTGRES_PASSWORD=1234

# Network
KC_HOSTNAME=0.0.0.0
KC_PORT=8080
KC_HTTP_PORT=8080
KC_HTTPS_PORT=8443

# Custom
KC_PROVIDER_DIR=./keycloak-providers
KC_THEMES_DIR=./keycloak-themes/onekey-theme
KC_CERT_DIR=./certs
WEBHOOK_URL=http://webhook.url/endpoints

# ==========================================
# REDIS CONFIGURATION
# ==========================================
REDIS_HOST=kong-redis
REDIS_PORT=6379
REDIS_TIMEOUT=1000
REDIS_PASSWORD=

# ==========================================
# KONGA CONFIGURATION
# ==========================================
KONGA_LISTEN=1337

# ==========================================
# WATCHTOWER (AUTO-DEPLOY) CONFIGURATION
# ==========================================
# GitHub Container Registry credentials
# Get token: https://github.com/settings/tokens (scope: read:packages)
GHCR_USERNAME=your-github-username
GHCR_TOKEN=ghp_your_github_token

# Polling interval (seconds)
WATCHTOWER_POLL_INTERVAL=60

# Notifications (optional)
# Examples:
# - Slack: slack://token-a/token-b/token-c
# - Email: smtp://user:pass@host:port/?from=from@example.com&to=to@example.com
WATCHTOWER_NOTIFICATIONS=
WATCHTOWER_NOTIFICATION_URL=

# ==========================================
# GENERAL CONFIGURATION
# ==========================================
TZ=Asia/Jakarta